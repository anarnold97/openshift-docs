//
// * backup_and_restore/application_backup_and_restore/oadp-performance/oadp-1-4-performance.adoc
:_mod-docs-content-type: REFERENCE

[id="oadp-1-4-data-utilization_{context}"]
= OADP 1.4 data utilization

The following is an example of observed performance when running {oadp-short} backup and restore with different plugins in an isolated environment. Your experiences with {oadp-short} may differ from these outcomes based on the types of resources in their cluster, including CPU (cores), storage, network, and the content of the data utilized for backup and restores. These numbers are not intended to represent a minimum expected rate, but rather the transfer rate when performing backups and restores in an isolated environment with optimal conditions and dedicated hardware.

.Transfer Rate

The calculated throughput rate denotes the quantity of non-zero data contained within persistent volumes (PVs) utilized in the backup or restore process, divided by the duration required to process a backup or restore.

This rate assists in your understanding of {oadp-short}.

[id="oadp-1-4-data-utilization-single-backup_{context}"]
== Backups for single pod and PV

The transfer rate for File System Backup (FSB) with Kopia and Container Storage Interface (CSI) Snapshot data movement is around 1 GB per second, depending on storage type.

.Examples in numbers

* FSB with Kopia on Single PV on Ceph RBD
** 2 TB PV containing 1.5 TB of data transferred 1.34 GB per second
** 4 TB PV containing 3 TB of data transferred 1.35 GB per second

* FSB with Kopia on Single PV on Ceph RBD compared to Ceph FS: RBD was faster:
** 4 TB PV containing 3T of data backup
*** Ceph RBD: transferred 1.35 GB per second
*** CephFS: transferred  980 MB per second

* CSI Snapshot data movement compared to FSB with Kopia Single PV on Ceph RBD:
** 1 TB PV containing 0.5 TB of data transferred 1 GB per second
** 2 TB PV containing 1.5 TB of data transferred 1.34 GB per second

CSI Snapshot data movement rates shown represent the initial backup and match the rates seen on FSB with Kopia using Ceph RBD.

[id="oadp-1-4-data-utilization-single-restore_{context}"]
== Restores for single pod and PV

The transfer rates for restoring a single pod containing data on a single PV are around 230–350 MB per second, depending on storage type.

.Examples in numbers

* Restore from FSB with Kopia Single PV on Ceph RBD:
** 2 TB PV containing 1.5 TB of data transferred 280 MB per second
** 4 TB PV containing 3 TB of data transferred 240 MB per second

* Restore from FSB with Kopia Single PV on Ceph RBD compared to Ceph FS: the transfer rate is about the same:
** FSB with Kopia CephRBD: 4 TB PV containing  3 TB of data transferred at 240 MB per second
** FSB with Kopia CephFS: 4 TB PV containing  3 TB of data transferred at 230 MB per second

* Restore from CSI Snapshot data movement compared to Restore from FSB with Kopia on Single PV on Ceph RBD
** Restore from CSI Snapshot data movement CephRBD:  1 TB PV containing 0.5 TB of data transferred 350 MB per second
** Restore from FSB with Kopia CephRBD:  2 TB PV containing 1.5 TB of data transferred 280 MB per second

[id="oadp-1-4-data-utilization-comparinf-csi-fsb_{context}"]
== Comparing CSI & FSB with Kopia

Comparing CSI & FSB with Kopia, many PVs in a single namespace with 6 workers.

.Backup: CSI Snapshot compared to FSB with Kopia

* 500 GB of data spread equally across 1,000 pods and PVs in a single namespace using 6 workers:
** CSI: Data transferred 80 MB per second (rate was the same for CephFS and CephRBD).
** FSB with Kopia: Data transferred 520 MB per second on RBD and 420 MB per second on CephFS.

.Restore: CSI Snapshot compared to FSB with Kopia

* 500 GB of data spread equally across 1,000 pods and PVs in a single namespace using 6 workers:
** CSI:   data transferred 40 MB per second on CephFS and 350 MB per second on CephRBD
** FSB with Kopia: data transferred 260 MB per second on CephFS and 240 MB per second on CephRBD
