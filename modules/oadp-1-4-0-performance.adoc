// This module is included in the following assembly:
//
// * backup_and_restore/application_backup_and_restore/oadp-performance/oadp-1-4-performance.adoc
:_mod-docs-content-type: REFERENCE

[id="oadp-1-4-0-performance_{context}"]
= {oadp-short} 1.4.0 scale and performance


[width="100%",cols="20%,55%,25%",options="header",]
|===
|Test
|Result
|Performance as a percentage

.2+|Restore a namespace with 33K secrets
| Restore without the `+update+` flag took 11 minutes compared to 55 minutes when using {oadp-short} 1.3.0.
| 80% performance improvement

| Restore with the `+update+` flag took 6 minutes compared to 28 minutes when using {oadp-short} 1.3.0.
|78.57% performance improvement

|Backup using File System Backup (FSB) of 4 s logical unit number (LUN) of which, 3 TB is used as data on CephRBD storage class.footnote:[Application backed up with Kopia as File System Backup (FSB)]
|The backup took 37 minutes and 4 seconds compared to 2 hours 22 minutes and 12 seconds on {oadp-short} 1.3.1.
|76.20% performance improvement

.2+|Backup using FSB of a single namespace with 5000 pods, including 499MB amount of data per pod.
| The backup took 4:28:11 compared to 14 hours 13 minutes and 33 seconds on {oadp-short} 1.3.1.
| 68.51% performance improvement

| The restore took 2 hours 23 minutes and 50 seconds compared to 5 hours 32 minutes and 03 seconds on {oadp-short} 1.3.1.
|56.70% performance improvement

|Backup using FSB of a single namespace with 1000 pods, including 499 MB of data per pod.
|The backup took 18 minutes and 42 seconds compared to 1 hour 11 minutes and 39 seconds on {oadp-short} 1.3.0.
|73.92% performance improvement
GB
|Backup using FSB of a single namespace with 2000 pods, including 499 MB of data per pod.
|The backup took 36 minutes and 43 seconds compared to 3 hours 5 minutes and 28 seconds on {oadp-short} 1.3.1.
|80.21% performance improvement

|Restore using Data Mover on a single namespace with 100 pods, including 2 GB of data per pod.
|The restore took 10 minutes and 24 minutes compared to 29 minutes and 27 seconds on {oadp-short} 1.3.0.
|64.66% performance improvement

|Backup using FSB using a single namespace with one file sized 1 TB using duplicate data (dd).
|The backup took 17 minutes and 51 seconds compared to 46 minutes and 07 seconds on {oadp-short} 1.3.1.
|61.3% performance improvement

|Restore using FSB of a single namespace with 100 files, each sized 10GB.
|The restore took 51 minutes and 17 seconds compared to 13 minutes 53 minutes on {oadp-short} 1.3.1.
|269.34% performance degredation footnote:[This performance degredation is possibly related to file size and count. While the new Kopia version shows improvements in other cases with smaller file sizes, there is observable degradation with larger files compared to previous {oadp-short} versions 1.3.0 to 1.3.1.]

|===

[id="oadp-1-4-0-performance-test-cases_{context}"]
== {oadp-short} 1.4.0 performance test cases

[width="100%",cols="7%,7%,7%,7%,7%,7%,7%,7%,7%,7%,8%,8%,8%,8%,8%",options="header",]
|===
|
|Action
|Storage
|Version
|Duration
|Version
|Duration
|Version
|Duration
|Bucket
|Velero spec limits
|node-agent spec limits
|File System Backup (Kopia or Restic) Timeout
|{oadp-short} version
|{odf-short} version

|Kopia
|Backup
|Ceph-RBD
|1.4.0
|0:20:12
|1.3.1-54
|0:20:33
|1.3.0-152
|0:36:15
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Restore
|Ceph-RBD
|1.4.0
|1:10:30
|1.3.1-54
|1:03:08
|1.3.0-152
|1:15:18
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Container Storage Interface (CSI)
|Backup
|Ceph-FS
|1.4.0
|0:00:07
|1.3.1-54
|0:00:12
|1.3.0-117
|0:00:12
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|CSI
|Restore
|Ceph-FS
|1.4.0
|FAILED
|1.3.1-54
|0:00:19
|1.3.0-117
|0:00:19
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Backup
|Ceph-RBD
|1.4.0
|0:34:18
|1.3.1-54
|0:41:34
|1.3.0-156
|1:10:26
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.16.0
|4.15.3

|Kopia
|Restore
|Ceph-RBD
|1.4.0
|2:44:33
|1.3.1-54
|2:32:51
|1.3.0-156
|2:50:55
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.16.0
|4.15.3

|Kopia
|Backup
|Ceph-FS
|1.4.0
|0:33:48
|1.3.1-54
|2:22:12
|1.3.0-156
|1:01:11
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.16.0
|4.15.3

|Kopia
|Restore
|Ceph-FS
|1.4.0
|FAILED
|1.3.1-54
|2:38:57
|1.3.0-156
|2:57:42
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.16.0
|4.15.3

|Kopia
|Backup
|Ceph-RBD
|1.4.0
|0:42:23
|1.3.1-54
|0:41:34
|1.3.0-156
|1:10:26
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Restore
|Ceph-RBD
|1.4.0
|FAILED
|1.3.1-54
|2:32:51
|1.3.0-156
|2:50:55
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Backup
|Ceph-FS
|1.4.0
|0:37:04
|1.3.1-54
|2:22:12
|1.3.0-156
|1:01:11
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Restore
|Ceph-FS
|1.4.0
|2:28:22
|1.3.1-54
|2:38:57
|1.3.0-156
|2:57:42
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Backup
|Ceph-RBD
|1.4.0
|0:17:51
|1.3.1-54
|0:46:07
|1.3.0-147
|0:40:21
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Restore
|Ceph-RBD
|1.4.0
|1:45:52
|1.3.1-54
|1:45:30
|1.3.0-147
|1:31:54
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Backup
|Ceph-RBD
|1.4.0
|0:13:29
|1.3.1-54
|0:15:02
|1.3.0-117
|0:17:24
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Restore
|Ceph-RBD
|1.4.0
|0:50:35
|1.3.1-54
|0:13:53
|1.3.0-117
|0:18:51
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Data Mover
|Backup
|Ceph-RBD
|1.4.0
|0:08:49
|1.3.1-54
|0:09:10
|1.3.0-117
|0:10:05
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Data Mover
|Restore
|Ceph-RBD
|1.4.0
|0:10:24
|1.3.1-54
|0:28:51
|1.3.0-117
|0:29:27
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Data Mover
|Backup
|Ceph-FS
|1.4.0
|0:23:18
|1.3.1-54
|
|1.3.0-117
|0:38:01
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Data Mover
|Restore
|Ceph-FS
|1.4.0
|0:24:25
|1.3.1-54
|N/A
|1.3.0-117
|0:30:32
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Data Mover
|Backup
|Ceph-RBD
|1.4.0
|0:08:12
|1.3.1-54
|0:08:17
|1.3.0-117
|0:15:03
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Data Mover
|Restore
|Ceph-RBD
|1.4.0
|0:19:27
|1.3.1-54
|0:15:05
|1.3.0-117
|0:21:15
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|CSI
|Backup
|Ceph-RBD
|1.4.0
|0:11:07
|1.3.1-54
|0:09:03
|1.3.0-156
|0:09:11
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|CSI
|Restore
|Ceph-RBD
|1.4.0
|0:03:36
|1.3.1-54
|0:02:47
|1.3.0-156
|0:02:41
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Backup
|Ceph-RBD
|1.4.0
|0:03:08
|1.3.1-59
|0:04:28
|1.3.0-156
|0:04:38
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Restore
|Ceph-RBD
|1.4.0
|0:03:37
|1.3.1-59
|0:11:13
|1.3.0-156
|0:11:21
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Backup
|Ceph-FS
|1.4.0
|0:01:56
|N/A
|N/A
|N/A
|N/A
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Restore
|Ceph-FS
|1.4.0
|0:02:53
|N/A
|N/A
|N/A
|N/A
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3


|CSI
|Backup
|Ceph-RBD
|1.4.0
|9:17:14
|1.3.1-59
|9:40:17
|1.3.1-42
|9:57:11
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.16.0
|4.15.3

|CSI
|Restore
|Ceph-RBD
|1.4.0
|1:25:28
|1.3.1-59
|2:07:58
|1.3.1-42
|FAIL
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.16.0
|4.15.3

|Kopia
|Backup
|Ceph-RBD
|1.4.0
|4:28:11
|1.3.1-59
|14:13:33
|N/A
|N/A
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.16.0
|4.15.3

|Kopia
|Restore
|Ceph-RBD
|1.4.0
|2:23:50
|1.3.1-59
|5:32:03
|N/A |N/A
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.16.0
|4.15.3

|CSI
|Backup
|Ceph-FS
|1.4.0
|1:38:07
|1.3.1-59
|1:35:21
|1.3.1-54
|1:33:58
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.16.0
|4.15.3

|CSI
|Restore
|Ceph-FS
|1.4.0
|FAILED
|1.3.1-59
|0:22:20
|1.3.1-54
|0:25:49
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.16.0
|4.15.3

|Kopia
|Backup
|Ceph-FS
|1.4.0
|0:18:42
|1.3.1-59
|1:05:59
|1.3.0-156
|1:11:39
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.16.0
|4.15.3

|Kopia
|Restore
|Ceph-FS
|1.4.0
|0:27:28
|1.3.1-59
|0:31:16
|1.3.0-156
|0:39:20
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|CSI
|Backup
|Ceph-RBD
|1.4.0
|1:37:59
|1.3.1-59
|1:34:00
|1.3.0-156
|1:52:10
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|CSI
|Restore
|Ceph-RBD
|1.4.0
|0:26:59
|1.3.1-59
|0:22:23
|1.3.0-156
|0:42:06
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|CSI
|Backup
|Ceph-RBD
|1.4.0
|3:22:25
|
|
|
|
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|CSI
|Restore
|Ceph-RBD
|1.4.0
|0:54:06
|
|
|
|
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Backup
|Ceph-RBD
|1.4.0
|0:16:22
|1.3.1-59
|1:02:19
|1.3.0-156
|1:05:51
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Restore
|Ceph-RBD
|1.4.0
|0:24:50
|1.3.1-59
|0:46:02
|1.3.0-156
|0:42:29
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Backup
|Ceph-RBD
|1.4.0
|0:38:12
|1.3.1-59
|3:05:28
|1.3.0-156
|2:58:52
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Restore
|Ceph-RBD
|1.4.0
|0:57:31
|1.3.1-59
|1:45:46
|1.3.0-156
|2:56:53
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Backup
|Ceph-RBD
|1.4.0
|0:36:43
|1.3.1-59
|3:05:28
|1.3.0-156
|2:58:52
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Restore
|Ceph-RBD
|1.4.0
|0:56:28
|1.3.1-59
|1:45:46
|1.3.0-156
|2:56:53
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Backup
|Ceph-RBD
|1.4.0
|0:16:35
|1.3.1-59
|3:05:28
|1.3.0-156
|2:58:52
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Restore
|Ceph-RBD
|1.4.0
|0:19:03
|1.3.1-59
|1:45:46
|1.3.0-156
|2:56:53
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Backup
|Ceph-RBD
|1.4.0
|0:00:38
|1.3.1-59
|
|1.3.0-156
|0:00:24
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Restore
|Ceph-RBD
|1.4.0
|
restore: 0:11:11 +
restore+update flag: 0:05:45
|1.3.1-59
|
|1.3.0-156
|
restore: 0:55:28 +
restore+update flag: 0:27:59
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Backup
|Ceph-RBD
|1.4.0
|0:13:59
|
|
|
|
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3

|Kopia
|Restore
|Ceph-RBD
|1.4.0
|0:01:31
|
|
|
|
|MinIO-PVC
|No limits
|
CPU:20 +
Memory: 32GB
|900m
|4.15.11
|4.15.3
|===
