// Module included in the following assemblies:
//
// * backup_and_restore/application_backup_and_restore/backing_up_and_restoring/backing-up-applications.adoc

:_content-type: PROCEDURE
[id="oadp-backing-up-applications-restic_{context}"]
= Backing up applications with Restic

You back up Kubernetes resources, internal images, and persistent volumes with Restic or Kopia by editing the `Backup` custom resource (CR).

You do not need to specify a snapshot location in the `DataProtectionApplication` CR.

[NOTE]
====
In OADP version 1.3 and later, you can use either Kopia or Restic for backing up applications. In OADP version 1.2 and earlier, you can only use Restic for backing up applications.
====


[IMPORTANT]
====
Restic does not support backing up `hostPath` volumes. For more information, see link:https://{velero-domain}/docs/v{velero-version}/restic/#limitations[additional Restic limitations].
====

.Prerequisites

* You must install the OpenShift API for Data Protection (OADP) Operator.
* You must not disable the default nodeAgent installation by setting `spec.configuration.nodeAgent.enable` to `false` in the `DataProtectionApplication` CR.
* You must select Kopia or Restic as the uploader by setting `spec.configuration.nodeAgent.enable.uploaderType` to `kopia` or `restic` in the `DataProtectionApplication` CR.
* The `DataProtectionApplication` CR must be in a `Ready` state.

.Procedure

* Edit the `Backup` CR, as in the following example:
+
[source,yaml]
----
apiVersion: velero.io/v1
kind: Backup
metadata:
  name: <backup>
  labels:
    velero.io/storage-location: default
  namespace: openshift-adp
spec:
  defaultVolumesToFsBackup: true <1>
...
----
<1> In OADP version 1.2 and later, add the `defaultVolumesToFsBackup: true` setting within the `spec` block. In OADP  version 1.1, add `defaultVolumesToRestic: true`.
